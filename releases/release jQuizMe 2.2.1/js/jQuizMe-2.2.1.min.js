/*
* jQuizMe - jQuery quiz plugin
*
* @version 2.2.1
* @author Larry Battle <http://bateru.com/news>
* @license MIT <http://opensource.org/licenses/mit-license.php>
* @date 10/08/2012
* @project page <http://code.google.com/p/jquizme/>
*/(function(e){var t=e("<div/>").addClass("quiz-el").append(e("<div/>").addClass("q-header q-innerArea").append(e("<div/>").addClass("q-counter"),e("<div/>").addClass("q-title")),e("<div/>").addClass("q-help q-innerArea").append(e("<div/>").addClass("q-help-menu").append(e("<span/>").addClass("q-quit-area").append(e("<input type ='button'/>").addClass("q-quit-btn"),e("<input type='button'/>").addClass("q-quitYes-btn q-quit-confirm").hide(),e("<input type='button'/>").addClass("q-quitNo-btn q-quit-confirm").hide()),e("<input type='button'/>").addClass("q-help-btn"),e("<span/>").addClass("q-timer-area"),e("<div/>").addClass("q-help-info").hide())),e("<div/>").addClass("q-review-menu q-innerArea").append(e("<input type='button'/>").addClass("q-details-btn q-reviewBar-btns"),e("<input type='button'/>").addClass("q-review-btn q-reviewBar-btns"),e("<div/>").addClass("q-reviewBar q-innerArea").append(e("<input type='button'/>").attr({"class":"q-leftArrow q-review-arrows",value:"<-"}),e("<input type='button'/>").attr({"class":"q-rightArrow q-review-arrows",value:"->"}),e("<span/>").addClass("q-review-nav").append(e("<select/>").addClass("q-review-index-all q-review-index"),e("<select/>").addClass("q-review-index-missed q-review-index").hide(),e("<span/>").addClass("q-missMarker").show(),e("<input type='checkbox'/>").addClass("q-showOnlyMissed-btn"))).hide()),e("<div/>").addClass("q-intro q-innerArea").append(e("<p/>").addClass("q-intro-info"),e('<input type="button"/>').addClass("q-begin-btn")).hide(),e("<div/>").addClass("q-prob q-innerArea").append(e("<div/>").addClass("q-ques q-probArea"),e("<div/>").addClass("q-ans q-probArea").append(e("<div/>").addClass("q-ansSel"),e("<input type='button'/>").addClass("q-check-btn"),e("<input type='button'/>").addClass("q-next-btn")),e("<div/>").addClass("q-result q-probArea").hide()),e("<div/>").addClass("q-gameOver q-innerArea").append(e("<div/>").addClass("q-stat q-probArea").append(e("<span/>").addClass("q-statTotal q-center"),e("<hr/>"),e("<blockquote/>").addClass("q-statDetails"),e("<div/>").addClass("q-extraStat")),e("<div/>").addClass("q-options q-probArea q-center").append(e("<input type='button'/>").addClass("q-restart-btn"),e("<input type='button'/>").addClass("q-del-btn"))).hide()),n=function(e,t){if(e.length!=t.length)return!1;var r=e.length;while(r--)if(c(e[r])&&!n(e[r],t[r])||e[r]!==t[r])return!1;return!0},r=function(e,t){return!t||typeof e!="string"?e:e.replace(/</g,"&#60;")},i=function(e,t){if(!t)return e;if(c(e)){var n=e.length;while(n--)e[n]=r(e[n],!0)}return e},s=function(e){var t=[];while(e--)t[e]=e;return t},o=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(t[t.length]=n);return t},u=function(e){return Math.floor(Math.random()*e)},a=function(){return u(100)%2!=1},f=function(e){var t,n,r=e.length;while(r)t=parseInt(Math.random()*r,10),n=e[--r],e[r]=e[t],e[t]=n;return e},l=function(e,t){if(!c(e)||!c(t)||e.length!==t.length)return-1;var n=[],r=e.length;while(r--)n[r]=e[t[r]];return n},c=function(e){return Object.prototype.toString.call(e)=="[object Array]"},h=window.navigator.userAgent.match(/MSIE \d/),p=h&&h[0].match(/\d/)[0]<9,d={ans:{corrAns:"Correct answer(s):",praise:"Great Job. Right!",retry:"Incorrect.<br/>Please try another answer.",whyAns:"Info:",yourAns:"Your Answer:"},btn:{begin:["Begin Quiz"],check:["Check","Check your answer"],del:["Delete","Delete quiz"],help:["Help","Click for help"],next:["Next","Next question"],restart:["Restart","Restart the quit over"],details:["Details","View score report"],review:["Review","Review Questions"],showOnlyMissed:[" *","Click to show only missed questions."],quit:["Quit","Quit quiz"],quitNo:["->","Go Back"],quitYes:["","Yes, quit"]},err:{ansInfoNotDefined:"Property ansInfo must be a string and be defined when ansSelInfo is defined.",badAnsSelInfoLen:"Property ansSel and ansSelInfo must be the same type and have the same length if an array.",badQType:"Invalid quiz type.",badKey:" is an invalid key value.",error:"Error",noQType:"No quizTypes.",noQues:"Quiz has no questions.",notArr:"Must be an array.",notObj:"Invalid quiz data structure. Must be an array or object."},stats:{right:"Right",rate:"Rate",score:"Score",wrong:"Wrong",total:"Total",tried:"Tried"},quiz:{tfEqual:" = ",tfEnd:"?",tfFalse:"False",tfTrue:"True"}},v=function(t,n){var r=["begin","check","del","help","next","restart","quit","quitYes","quitNo","review","details","showOnlyMissed"],i=r.length,s;t.quitYes[0]||(t.quitYes[0]=t.quit[0]+"?"),e(".q-missMarker",n).html(t.showOnlyMissed[0]),t.showOnlyMissed[0]="";while(i--)s=[".q-",r[i],"-btn"].join(""),e(s,n).attr("value",t[r[i]][0]),e(s,n).attr("title",t[r[i]][1]);return n},m={addToEnd:"",activeClass:"q-ol-active",allQuizType:"",allRandom:!1,alwaysShowAnsInfo:!1,disableRestart:!1,disableDelete:!1,enableRetry:!0,fxType:0,fxCode:!1,fxSpeed:"normal",help:"",hoverClass:"q-ol-hover",intro:"",multiLen:3,numOfQuizQues:0,performErrorChecking:!0,random:!0,review:!0,showFeedback:!0,showAnsInfo:!0,showHTML:!1,showWrongAns:!1,statusUpdate:!1,quizType:"fillInTheBlank",title:"jQuizMe"};e.fn.jQuizMe=function(h,g,y){var b=e.extend({},m,g),w=e.extend(!0,{},d,y),E=v(w.btn,t.clone(!0));return this.each(function(){var t=E.clone(!0).hide(),d=0,v=this,m=!1,g=0,y={ans:[],ansSel:[],ansSelInfo:[],ansInfo:[],retryCount:[],indexMax:[],indexMin:[],prop:[],ques:[]},S={indexSelected:[],problem:{},numOfRight:0,numOfWrong:0,quesTried:0,totalQues:0,accur:function(){var e=Math.round(this.numOfRight/this.quesTried*100);return this.quesTried?e:0},accurTxt:function(){return[this.numOfRight,"/",this.quesTried," = ",this.accur(),"%"].join("")},perc:function(){var e=Math.round(this.numOfRight/this.totalQues*100);return this.totalQues?e:0},percTxt:function(){return[this.numOfRight,"/",this.numOfQues," = ",this.perc(),"%"].join("")},reset:function(){this.totalQues=g,this.quesTried=0,this.numOfRight=0,this.numOfWrong=0,this.problem={},this.indexSelected=[]}},x=function(e,t){var n=t?y.prop[u(y.prop.length)]:y.prop[e],r=h[n][u(h[n].length)];return r.ans},T=function(){e(".q-quit-btn, .q-help-btn",t).attr("disabled",!0),e(".q-help-info",t).hide()},N=function(e){return Z("amountTried")-1<=y.retryCount[d]&&tt(e)},C=function(e){return b.enableRetry&&Z("amountTried")<y.retryCount[d]&&!tt(e)},k=function(){e(".q-check-btn",t).attr("disabled",!0),e(".userInputArea",t).one("click",function(){e(".q-check-btn",t).attr("disabled",function(){return!e(".q-next-btn",t).attr("disabled")})})},L=function(){var e=w.ans.retry;b.showAnsInfo&&(e+=rt()),st(e)},A=function(){var n="";e(".q-check-btn",t).attr("disabled",!0).click(function(r){n=e(".userInputArea",t).triggerHandler("getUserAns"),Y().amountTried++,Z("amountTried")==1&&S.quesTried++,C(n)?(k(),L()):(S[tt(n)||n?"numOfRight":"numOfWrong"]++,S.problem[d].isCorrect=tt(n),ot(n),e(".q-next-btn",t).attr("disabled",!1),e(r.target).attr("disabled",!0)),r.preventDefault()}),e(".q-next-btn",t).click(function(n){if(!b.showFeedback){var r=e(".userInputArea",t).triggerHandler("getUserAns");Y().amountTried++,Z("amountTried")==1&&S.quesTried++,S[tt(r)||r?"numOfRight":"numOfWrong"]++,S.problem[d].isCorrect=tt(r),ot(r)}Q(),e(n.target).attr("disabled",!0),n.preventDefault()})},O=function(){e(".q-quitYes-btn",t).click(function(){m=!0,Q()}),e(".q-quit-confirm",t).click(function(){e(".q-quit-confirm",t).hide(),e(".q-quit-btn",t).css("display","inline")}),e(".q-quit-btn",t).click(function(n){e(n.target).hide(),e(".q-quit-confirm",t).css("display","inline")})},M=function(){var e=y.prop.length,t=0,n=b.numOfQuizQues;while(e--)t+=h[y.prop[e]].length;g=!n||isNaN(n)||n>t?t:n,S.numOfQues=g},_=function(){var e=0,t=0,n=0;while(y.prop[e])n=h[y.prop[e]].length,t+=n,y.indexMax[e]=t-1,y.indexMin[e]=t-n,e++},D=function(){e(".q-help-btn",t).toggle(function(){B(e(".q-help-info",t),1)},function(){B(e(".q-help-info",t),0)}),M(),_(),O(),A(),b.review&&F(),e(v).append(t)},P=function(){var e=!m&&d<g;return e||(m=!0),e},H=[function(e,t){e[t?"show":"hide"](0)},function(e,t,n){e[t?"fadeIn":"fadeOut"](n)},function(e,t,n){e[t?"slideDown":"slideUp"](n)},function(e,t,n){e.animate({height:"toggle",width:"toggle"},n)}],B=function(t,n,r){n>-1&&H[b.fxType](t,n,b.fxSpeed),r&&t.queue(function(){r(),e(t).dequeue()}),p&&n>0&&e(t).animate({opacity:1}).css("display","block")},j=function(){var n=".q-review-index:visible option:",r=n+"selected",i=function(r){var i=e(n+"last",t).val(),s=e(n+"first",t).val(),o=r<=i&&r>=s;o&&(e(".q-review-index",t).val(r),d=r,W(!0),ot(),e(".q-reviewBar > :disabled",t).attr("disabled",!1)),(r==i||r==s)&&e(".q-"+(r==s?"left":"right")+"Arrow",t).attr("disabled",!0)};e(".q-review-index",t).change(function(t){i(parseInt(e(t.target).val(),10))}),e(".q-review-arrows",t).click(function(n){var s=!!n.target.className.match(/left/),o=e(r,t)[s?"prev":"next"]().val();i(parseInt(o,10))})},F=function(){var n=e(".q-gameOver",t),r=e(".q-prob",t);e(".q-reviewBar-btns",t).click(function(i){var s=i.target.className.search(/details/)>-1,o=s?n:r,u=s?r:n;B(e(".q-reviewBar",t),!s),B(u,0,function(){e(".q-details-btn",t).attr("disabled",s),e(".q-review-btn",t).attr("disabled",!s),B(o,1)})}),e(".q-showOnlyMissed-btn",t).change(function(){var n=e(this).is(":checked");n?(e(".q-review-index-missed",t).fadeIn().css("display","inline"),e(".q-review-index-all",t).hide()):(e(".q-review-index-missed",t).hide(),e(".q-review-index-all",t).fadeIn().css("display","inline")),e(".q-review-index:visible",t).trigger("change")}),j()},I=function(){var n="",r="",i="",s="",o=0,u=S.totalQues;while(u-o)i=Z("isCorrect",o)?"":" *",s="<option value="+o+">",s+=o+1,s+=i,s+="</option>",r+=s,n+=i?s:"",o++;e(".q-review-index-all",t).html(r),e(".q-review-index-missed",t).html(n)},q=function(){b.disableRestart&&e(".q-restart-btn",t).hide(),b.disableDelete&&e(".q-del-btn",t).hide(),b.disableRestart&&b.disableDelete&&e(".q-options",t).hide()},R=function(){return[w.stats.right+": "+S.numOfRight,w.stats.wrong+": "+S.numOfWrong,w.stats.tried+": "+S.quesTried,w.stats.rate+": "+S.accurTxt(),w.stats.total+": "+S.percTxt()].join("<br/>")},U=function(){I(),e(".q-review-btn",t).one("click",function(){e(".q-review-index",t).trigger("change"),ot(),g==1&&e(".q-rightArrow, .q-showOnlyMissed-btn",t).attr("disabled",!0)}),e(".q-details-btn",t).attr("disabled",!0),e(".q-review-menu",t).show()},z=function(){q(),e(".q-statTotal",t).html(w.stats.score+": "+S.perc()+"%"),e(".q-statDetails",t).html(R()),e(".q-restart-btn",t).one("click",yt),e(".q-del-btn",t).one("click",mt),e(".q-help, .q-check-btn, .q-prob, .q-intro, .q-ans",t).hide(),b.review&&U(),B(e(".q-gameOver",t),1,K)},W=function(n){var r=y.ansSel;e(".q-counter",t).text(d+1+"/"+g),e(".q-ques",t).html(y.ques[d]),n||(e(".q-ansSel",t).html(r[isNaN(r[d])?d:r[d]].clone(!0)),it(0),e(".q-result",t).hide(),e(".focusThis",t).focus(),setTimeout(function(){e(".clickThis",t).trigger("click");var n=e(".q-ol-li",t);n.length&&p&&n.css("list-style-type",n.css("list-style-type"))},15))},X=function(){b.help?e(".q-help-info",t).html(b.help):e(".q-help-btn",t).attr("disabled",!0)},V=function(){gt(),e(".q-title",t).html(b.title),X(),b.intro&&(e(".q-prob",t).hide(),e(".q-intro-info",t).html(b.intro),e(".q-intro",t).show(),e(".q-begin-btn",t).unbind().one("click",function(){B(e(".q-intro",t),0,function(){B(e(".q-prob",t),1,K)})}))},J=function(e){e&&e<g&&d+1<e&&(d=e),W()},K=function(){if(!b.statusUpdate)return;var e={currIndex:d,problem:S.problem,numOfRight:S.numOfRight,numOfWrong:S.numOfWrong,score:S.perc(),total:S.totalQues,hasQuit:m,deleteQuiz:mt,quitQuiz:m?function(){}:vt,nextQuestion:m?function(){}:J};b.statusUpdate(e,t)},Q=function(){d++;var n=P()?W:vt,r=e(".q-prob",t);m||B(r,0),B(r,-1,n),m||B(r,1,K)},G=function(e){return y.ans[e||d]},Y=function(e){return e=e||d,S.problem[e]||(S.problem[e]={amountTried:0,isCorrect:null,userAnswer:undefined}),S.problem[e]},Z=function(e,t){return Y(t)[e]},et=function(e,t){Y(t).userAnswer=e},tt=function(t){var n=G(),r=!1,i=Z("userAnswer");return i===undefined?!1:(typeof n=="string"&&(n=e.trim(n)),c(n)?r=i==n.toString()||e.inArray(i,n)+1:r=i==n||i.toString().toLowerCase()==n.toString().toLowerCase(),r)},nt=function(e){var t=w.ans.yourAns+"<br/>";return Z("userAnswer")?t+r(Z("userAnswer"),e):"<del>"+t+"</del>"},rt=function(){return y.ansInfo[d]?y.ansSelInfo[d]?"<hr/>"+w.ans.whyAns+"<br/>"+(y.ansSelInfo[d][S.indexSelected[d]]||y.ansInfo[d]):"<hr/>"+w.ans.whyAns+"<br/>"+y.ansInfo[d]:""},it=function(n){if(!p)return;n?e(".q-result",t).size()||e(".q-prob",t).append(e("<div/>").addClass("q-result q-probArea").show()):e(".q-result",t).remove()},st=function(n){it(1),e(".q-result",t).html(n),m?e(".q-result",t).show():B(e(".q-result",t),1)},ot=function(e){var t=G(),n=N(e),r="",s=b.showHTML;t=c(t)?t.concat():[t],r=n?w.ans.praise:w.ans.corrAns+"<br/>"+i(t,s).join("<br/>");if(!n||m){if(b.showWrongAns||m)r=nt(s)+"<hr/>"+r;b.showAnsInfo&&(r+=rt())}else b.alwaysShowAnsInfo&&(r+=rt());(b.showFeedback||m)&&st(r)},ut=function(e,t){return!!h[y.prop[e]][t].ansSel},at=function(e,t){var n=h[y.prop[e]][t].ansSel,r=u(c(n)?n.length:0);return{index:r,value:c(n)?n[r]:n}},ft=function(){b.showFeedback?e(".q-check-btn",t).attr("disabled",!e(".q-next-btn",t).attr("disabled")):e(".q-next-btn",t).attr("disabled",!1)},lt=function(n){if(!y.ansSelInfo[d])return;groupClass={multi:".q-select:visible > option",multiList:".q-ol-li:visible",tf:".userInputArea > input"}[n],selectedClass={multi:".q-select > option:selected",multiList:"."+b.activeClass,tf:".userInputArea > input:checked"}[n],S.indexSelected[d]=e(groupClass,t).index(e(selectedClass,t))},ct={fillInTheBlank:function(n,r){var i;r?i=e("<span/>").addClass("clickThis userInputArea").one("click",function(){ft()}).bind("getUserAns",function(){return 1}):i=e('<input type="text"/>').addClass("q-quesInput focusThis userInputArea").one("click keypress",function(){ft()}).bind("getUserAns",function(){et(e.trim(e(".q-quesInput",t).val()))});var s=y.indexMax[n],o=y.indexMin[n],u=h[y.prop[n]],a=u.length;while(a--)y.retryCount[s]=u[a].retry||0,y.ansInfo[s]=u[a].ansInfo||"",y.ans[s]=u[a].ans,y.ansSel[s]=o,y.ques[s]=u[a].ques+b.addToEnd,s--;y.ansSel[o]=i},flashCard:function(e){this.fillInTheBlank(e,!0)},trueOrFalse:function(i){var s=e(['<div><input type="radio" value="1" class="true-radio trueRadio"/><label class="trueRadio">',w.quiz.tfTrue,'</label> <input type="radio" value="0" class="false-radio falseRadio"/><label class="falseRadio">',w.quiz.tfFalse,"</label></div>"].join(""));e(s).addClass("userInputArea").bind("getUserAns",function(){var t=e(".true-radio",this).attr("checked");et(w.quiz[t?"tfTrue":"tfFalse"]),lt("tf")}),e(s).children().one("click",function(){ft()}),e(".trueRadio",s).click(function(){e(".true-radio",t).attr("checked",!0),e(".false-radio",t).attr("checked",!1)}),e(".falseRadio",s).click(function(){e(".true-radio",t).attr("checked",!1),e(".false-radio",t).attr("checked",!0)});var o,u=!0,f=y.indexMax[i],l=y.indexMin[i],p=h[y.prop[i]],d=p.length,v=b.showHTML,m=w.quiz.tfEqual,g=w.quiz.tfEnd,E,S,T,N;while(d--){E=undefined,S=undefined,o=p[d].ans,y.ansInfo[f]=p[d].ansInfo||"",y.ansSel[f]=l,y.retryCount[f]=p[d].retry||0,y.ques[f]=p[d].ques,typeof o!="boolean"?(u=a(),u?T=o:ut(i,d)?(E=at(i,d),T=E.value||o):T=x(i),N=!c(o)||!c(T)?T==o:n(T,o),y.ans[f]=w.quiz[N?"tfTrue":"tfFalse"],y.ques[f]+=m,y.ques[f]+=r(c(T)?T.join(","):T,v),y.ques[f]+=g):y.ans[f]=w.quiz[o?"tfTrue":"tfFalse"];if(p[d].ansSelInfo){S=p[d].ansSelInfo.concat();if(S&&E){S=c(S)?S:[S];var C=y.ansInfo[f];y.ansSelInfo[f]=u?[C,S[E.index]||C]:[S[E.index]||C,y.ansInfo[f]]}}f--}y.ansSel[l]=s},multipleChoice:function(n,i){var o;i?(o=e('<div><ol class="q-ol"></ol></div>'),e(o).one("click",function(){ft()})):(o=e('<div><select class="q-select"></select></div>'),e(".q-select",o).one("click keypress",function(e){ft()})),e(o).addClass("userInputArea").bind("getUserAns",function(){if(i){var n=e("."+b.activeClass,t).find(".q-ol-li-ansSel")[b.showHTML?"text":"html"]();et(e.trim(n)),lt("multiList")}else et(e("option:selected",this).text()),lt("multi")});var a=y.indexMax[n],d=h[y.prop[n]],v,m,g,w,E=d.length,S=s(E),x=d.length,T=b.multiLen>E?E:b.multiLen,N=b.showHTML,C=!1,k="",L,A,O,M,_,D=function(t){e(t.target).closest("li.q-ol-li").addClass(b.hoverClass)},P=function(t){e(t.target).closest("li.q-ol-li").removeClass(b.hoverClass)},H=function(t){var n=e(t.target).closest("li.q-ol-li");n.addClass(b.activeClass).siblings().removeClass(b.activeClass).find(".q-radioBtn:checked").attr("checked",!1),n.find(".q-radioBtn").attr("checked",!0)};while(x--){O=d[x],m="",C=!1,A=O.ansSelInfo,A=A?c(A)?A.concat():[A]:undefined;if(ut(n,x)){g=[];if(c(O.ansSel)){var B=O.ansSel,j=B.length;while(j--)B[j]===null?(g[j]=O.ans,A&&A.splice(j,1,O.ansInfo),C=!0):g[j]=B[j]}else g[0]=O.ansSel;C||(g[g.length]=O.ans,A&&(A[A.length]=O.ansInfo)),w=g.length,L=s(w),C||(f(L),A&&(A=l(A,L)));while(w--)k=r(g[L[w]],N),A&&(A[w]=r(A[w],N)),_=i?["<li class = 'q-ol-li'><input type='radio' class='q-radioBtn'/><span class='q-ol-li-ansSel'>",k,"</span></li> "].join(""):["<option>",k,"</option> "].join(""),m=_+m}else{var F=S.concat();F.splice(x,1),w=T,v=u(w);while(w--){var I=u(F.length),q=w==v?x:F.splice(I,1)||0;k=r(d[q].ans,N),_=i?["<li class = 'q-ol-li'><input type='radio' class='q-radioBtn'/><span class='q-ol-li-ansSel'>",k,"</span></li> "].join(""):["<option>",k,"</option> "].join(""),m=_+m}}p&&!i?e("select",o).html(m):e(i?".q-ol":"select",o)[0].innerHTML=m,p&&i&&e(".q-ol-li",o).prepend("&nbsp;"),i&&e("li.q-ol-li",o).bind("click",H).bind("mouseover",D).bind("mouseout",P),y.retryCount[a]=O.retry||0,y.ans[a]=O.ans,y.ansInfo[a]=O.ansInfo||"",y.ansSel[a]=o.clone(!0),y.ansSelInfo[a]=A?A.concat():A,y.ques[a]=O.ques,a--}},multipleChoiceOl:function(e){this.multipleChoice(e,!0)}},ht=function(e){if(e){var t=s(g),n=t.length,r={ans:[],ansSel:[],ansInfo:[],ques:[]},i,o;f(t),n=t.length;while(n--)i=t[n],o=y.ansSel[i],r.ans[n]=y.ans[i],r.ansInfo[n]=y.ansInfo[i]||"",r.ansSel[n]=typeof o!="number"?o:y.ansSel[o],r.ques[n]=y.ques[i];y.ans=r.ans.concat(),y.ansInfo=r.ansInfo.concat(),y.ansSel=r.ansSel.concat(),y.ques=r.ques.concat()}else{var u=y.prop.length;while(u--)f(h[y.prop[u]])}},pt=function(){var e=y.prop.length,t="",n,r=b.allQuizType,i={fill:"fillInTheBlank",cards:"flashCard",tf:"trueOrFalse",multi:"multipleChoice",multiList:"multipleChoiceOl"};b.random&&ht();while(e--)n=r||y.prop[e],t=i[n]||n,ct[t](e);b.allRandom&&ht(!0)},dt=function(){S.reset(),pt(),V(),W(),B(e(t),1,K)},vt=function(){d=0,m=!0,T(),z()},mt=function(){B(e(t),0,function(){e(t).remove()}),y={}},gt=function(){e(".q-gameOver, .q-result, .q-review-menu",t).hide(),e(".q-ans, .q-help, .q-help-menu, .q-prob",t).show(),e(".q-check-btn",t)[b.showFeedback?"show":"hide"]().attr("disabled",!0),e(".q-next-btn",t).attr("disabled",b.showFeedback),e(".q-quit-btn, .q-help-btn",t).attr("disabled",!1)},yt=function(){(!p||p&&b.fxType==3)&&B(e(t),0),gt(),m=!1,d=0,dt()},bt=function(e){var t=e.fxSpeed,n={slow:600,fast:200,normal:400};e.fxSpeed=isNaN(t)?n[t]||400:t;if(e.fxCode){var r=H.length;H[r]=e.fxCode,e.fxType=r}},wt=function(e,t,n){var r=c(t),i=c(n);if(e===undefined)return w.err.ansInfoNotDefined;if((r||i)&&(r!=i||t.length!==n.length))return w.err.badAnsSelInfoLen},Et=function(e){var t="",n=e.length,r,i={ques:1,ans:1,ansInfo:1,ansSel:1,ansSelInfo:1,retry:1};n||(t=w.err.noQues);while(n--){if(t)break;r=e[n];for(var s in r)if(r.hasOwnProperty(s)){if(!i[s]){t=s+w.err.badKey;break}if(s=="ansSelInfo"){t=wt(r.ansInfo||undefined,r.ansSel||undefined,r.ansSelInfo);break}}}return t},St=function(e){var t="",n=[],r={fillInTheBlank:1,flashCard:1,trueOrFalse:1,multipleChoice:1,multipleChoiceOl:1,fill:1,cards:1,tf:1,multi:1,multiList:1};for(var i in e)if(e.hasOwnProperty(i)){r[i]||(t=w.err[typeof e=="object"?"badQType":"lang.err.notObj"]),t||(t=c(e[i])?Et(e[i]):w.err.notArr);if(t){t=i+" -> "+t;break}}return i||(t=w.err.noQType),!t&&b.allQuizType&&!r[b.allQuizType]&&(t=b.allQuizType+" -> "+w.err.badQType),t},xt=function(t){var n=t?St(t):w.err.noQues;if(n)throw n="jQuizMe "+w.err.error+": "+n,e(v).text(n),new Error(n)},Tt=function(e){var t={};return t[b.allQuizType||b.quizType]=e,t},Nt=function(){return h=c(h)?Tt(h):h,b.performErrorChecking&&xt(h),bt(b),y.prop=o(h),D(),dt(),t}()})},e.fn.jQuizMe.version="2.2.1"})(jQuery);